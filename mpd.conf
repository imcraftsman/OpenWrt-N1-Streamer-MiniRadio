# --- 基础路径配置 ---
music_directory         "/var/lib/mpd/music"
playlist_directory      "/var/lib/mpd/playlists"
db_file                 "/var/lib/mpd/database"
state_file              "/var/lib/mpd/state"
pid_file                "/var/run/mpd.pid"

# --- 日志配置 ---
# 将日志定向到 /tmp 以保护闪存，同时方便我们调试
log_file                "/tmp/mpd.log"
log_level               "default"

# --- 网络与监听 ---
bind_to_address         "0.0.0.0"
port                    "6600"
# 设置最大连接超时，防止因一个坏电台导致整个进程挂起
connection_timeout      "10"
# 允许的最大播放列表长度，防止 1098 个电台瞬间撑爆内存
max_playlist_length     "2048"

# --- 缓冲区优化 (解决卡顿的核心) ---
# 增大音频缓冲区到 8MB (默认通常很小)
audio_buffer_size       "8192"

# --- 音频输出 ---
audio_output {
        type            "alsa"
        name            "N1-HDMI"
        device          "hw:0,0"
        mixer_type      "software"
}

# --- 资源控制 ---
# 限制内存占用，防止 N1 出现 OOM (内存溢出)
max_output_buffer_size  "16384"
